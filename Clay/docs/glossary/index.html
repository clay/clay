<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Glossary · Clay</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&gt; Below is a list of terms commonly used in Clay that are helpful to know when discussing the system."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Glossary · Clay"/><meta property="og:type" content="website"/><meta property="og:url" content="https://clay.github.io/clay/"/><meta property="og:description" content="&gt; Below is a list of terms commonly used in Clay that are helpful to know when discussing the system."/><meta property="og:image" content="https://clay.github.io/clay/#99D3DF"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://clay.github.io/clay/#99D3DF"/><link rel="shortcut icon" href="/clay/"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/clay/js/scrollSpy.js"></script><link rel="stylesheet" href="/clay/css/main.css"/><script src="/clay/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/clay/"><img class="logo" src="/clay/img/logo.svg" alt="Clay"/><h2 class="headerTitleWithLogo">Clay</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/clay/docs/getting-started" target="_self">Getting Started</a></li><li class=""><a href="https://github.com/clay" target="_self">Github</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Helpful Links</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/clay/docs/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/clay/docs/building-a-component">Building A Component</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Clay Data Structures<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/clay/docs/components">Components</a></li><li class="navListItem"><a class="navItem" href="/clay/docs/pages">Pages</a></li><li class="navListItem"><a class="navItem" href="/clay/docs/layouts">Layouts</a></li><li class="navListItem"><a class="navItem" href="/clay/docs/uris">Uris</a></li><li class="navListItem"><a class="navItem" href="/clay/docs/lists">Lists</a></li><li class="navListItem"><a class="navItem" href="/clay/docs/users">Users</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Helpful Links<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/clay/docs/glossary">Glossary</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Glossary</h1></header><article><div><span><blockquote>
<p>Below is a list of terms commonly used in Clay that are helpful to know when discussing the system.</p>
</blockquote>
<hr/>
<h2><a class="anchor" aria-hidden="true" id="amphora"></a><a href="#amphora" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Amphora</h2>
<p>Amphora is the data composer and REST API of Clay. It's core responsibilities include:</p>
<ul>
<li>Assigning core routes for each data structure</li>
<li>Composing JSON data when a request comes in</li>
<li>Exposing hooks for server-side plugins</li>
<li>Passing composed data to renderers for templating before being sent back to the client</li>
<li>Discovering each plugin available in an instance of Clay</li>
<li>Migrating component data as components iterate over time</li>
</ul>
<hr/>
<h2><a class="anchor" aria-hidden="true" id="amphora-html"></a><a href="#amphora-html" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Amphora HTML</h2>
<p>The supported HTML renderer for Clay. It receives data from <a href="#amphora">Amphora</a> and uses Handlebars templates to render the data.</p>
<p>It's also helps get data from the server to <a href="#kiln">Kiln</a> when the user is in edit mode.</p>
<hr/>
<h2><a class="anchor" aria-hidden="true" id="schema"></a><a href="#schema" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Schema</h2>
<p>A schema file (either <code>schema.yml</code> or <code>schema.yaml</code>) is a declaration for how a component is edited in <a href="#kiln">Kiln</a>. A schema file must be present in a component's directory so that <a href="#amphora">Amphora</a> can identify the component to create the necessary endpoints.</p>
<hr/>
<h2><a class="anchor" aria-hidden="true" id="bootstrap-_file_"></a><a href="#bootstrap-_file_" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bootstrap <em>(file)</em></h2>
<p>The bootstrap file (<code>bootstrap.yml</code> or <code>bootstrap.yaml</code>) file is located in each component's directory and specifies the starting data for a brand new instance of your specific component. The structure of the file is as follows:</p>
<pre><code class="hljs css language-yaml"><span class="hljs-attr">_components:</span>
  <span class="hljs-attr">component-a:</span> <span class="hljs-comment"># The name of the component, can be any kebab case string</span>
    <span class="hljs-attr">foo:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">bar:</span> <span class="hljs-number">123</span>
    <span class="hljs-attr">baz:</span> <span class="hljs-string">"A string"</span>
</code></pre>
<p>A bootstrap's contents will become available at the root route for a components: <code>&lt;HOST&gt;/_components/&lt;COMPONENT NAME&gt;</code>. For the example above with a server running locally you could find the data at <code>localhost/_components/component-a</code>.</p>
<blockquote>
<p>Make sure to read about <a href="#bootstrap-action">the bootstrap action</a> to understand the implications this file has.</p>
</blockquote>
<hr/>
<h2><a class="anchor" aria-hidden="true" id="bootstrap-_action_"></a><a href="#bootstrap-_action_" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bootstrap <em>(action)</em></h2>
<p>When Amphora first starts up it looks into each component's directory and reads the <code>bootstrap.(yml|yaml)</code> file, parses it into JSON and then saves the value to the database. This process is referred to as the instance bootstrapping itself.</p>
<p>The issue with this process is that your default instance can never be reliably manipulated in the UI because it will always reset back to the value declared in your <code>bootstrap.yml</code> file when the server restarts. <strong>You should never reference this instance anywhere in your live pages</strong>, it's sole purpose is to provide Kiln some starting data when creating new instances of your component.</p>
<hr/>
<h2><a class="anchor" aria-hidden="true" id="instance"></a><a href="#instance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Instance</h2>
<p>When we make a component in Clay we're really making a template that is copied over and over and used in different places across a/multiple site(s). Each one of these copies is unique and contains its own data that is different from all the other copies, but what's important is that all the copies inherit the same editing interface, template and starter data. We call these <em>instances</em> of a component.</p>
<p>When we talk about the API for components we like to illustrate the path as follows: <code>/_components/&lt;COMPONENT NAME&gt;/instances/&lt;INSTANCE ID&gt;</code></p>
<hr/>
<h2><a class="anchor" aria-hidden="true" id="kiln"></a><a href="#kiln" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Kiln</h2>
<p>The edit interface for Clay which can he found here: <a href="https://github.com/clay/clay-kiln">https://github.com/clay/clay-kiln</a>. This package is a Vue app which sits on top of your page in edit mode and generated the fields, forms and panes which users interact with. It also supports its own plugin system so that you can customize your editing experience based on user needs.</p>
<p>A user can enter edit mode in two ways:</p>
<ul>
<li>Hold the <code>shift</code> key and type <code>CLAY</code></li>
<li>Add <code>?edit=true</code> to any Clay url</li>
</ul>
<p>Kiln is actually just a component itself and abides by the same API's as any other component.</p>
<hr/>
<h2><a class="anchor" aria-hidden="true" id="locals"></a><a href="#locals" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Locals</h2>
<p>This object is passed to component's model.js functions and contains information about the request that is causing a component to be rendered/save. The following properties are available:</p>
<ul>
<li><code>url</code> (String): the url of the request. Can be a specific component instance, a page uri or a public url</li>
<li><code>edit</code> (Boolean): a flag indicating if the request is coming from an authenticated user or not</li>
<li><code>site</code> (Object): a copy of the site that the component exists on. This is an object whose structure matches the site's <code>config.yml</code> file</li>
<li><code>query</code> (Object): the query params on the request parsed into an object by Express</li>
<li><code>params</code> (Object): an object whose properties are <a href="https://expressjs.com/en/guide/routing.html#route-parameters">the named params of the Express route</a> and whose values are generated by Express</li>
</ul>
<p><strong>IMPORTANT</strong>: When using <a href="https://github.com/clay/amphora-html">Amphora HTML</a> the <code>locals</code> object is available in the Handlebars templates at <code>@root.locals</code>.</p>
<hr/>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/clay/docs/users"><span class="arrow-prev">← </span><span>Users</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#amphora">Amphora</a></li><li><a href="#amphora-html">Amphora HTML</a></li><li><a href="#schema">Schema</a></li><li><a href="#bootstrap-_file_">Bootstrap <em>(file)</em></a></li><li><a href="#bootstrap-_action_">Bootstrap <em>(action)</em></a></li><li><a href="#instance">Instance</a></li><li><a href="#kiln">Kiln</a></li><li><a href="#locals">Locals</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/clay/" class="nav-home"></a><div><h5>Docs</h5><a target="_blank" href="/clay/docs/en/getting-started">Getting Started</a><a target="_blank" href="/clay/docs/en/glossary">Glossary</a></div><div><h5>More</h5><a target="_blank" href="https://github.com/clay/clay-starter">GitHub</a></div></section><section class="copyright">Copyright © 2020 New York Media</section></footer></div></body></html>